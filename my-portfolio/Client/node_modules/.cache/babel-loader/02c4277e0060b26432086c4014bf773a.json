{"ast":null,"code":"import _slicedToArray from \"/home/blasphemous/Web-Dev/my-portfolio/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/blasphemous/Web-Dev/my-portfolio/Client/src/components/SignUp.js\";\nimport React, { useState } from \"react\";\nimport Axios from 'axios';\nimport Login from './Login';\nimport validator from 'validator';\nimport { LoginIcon } from \"@heroicons/react/solid\";\nexport default function SignUp() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsernameReg = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmailReg = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPasswordReg = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      error = _useState8[0],\n      setError = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      signedUp = _useState10[0],\n      setSignedUp = _useState10[1];\n\n  var register = function register() {\n    if (email !== '' && username !== '' && password !== '') {\n      if (validator.isEmail(email)) {\n        Axios.post('http://127.0.0.1:4000/api/register', {\n          username: username,\n          email: email,\n          password: password\n        }).then(function (res) {\n          console.log(res);\n          console.log(res.data);\n          setSignedUp(true);\n        }).catch(function (error) {\n          console.log(error.message);\n          console.log(error.response.data.message);\n\n          if (error.response.data.message === \"duplicate key value violates unique constraint \\\"users_username_key\\\"\") {\n            setError('Username already exists');\n          } else if (error.response.data.message === \"duplicate key value violates unique constraint \\\"users_email_key\\\"\") {\n            setError('Email already exists');\n          }\n        });\n      } else {\n        setError('Email is invalid');\n      }\n\n      ;\n    } else {\n      setError('All fields are required');\n    }\n\n    ;\n  };\n\n  if (!signedUp) {\n    return /*#__PURE__*/React.createElement(\"main\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container px-5 py-10 mt-0 text-center items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(LoginIcon, {\n      className: \"w-10 inline-block mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"sm:text-4xl text-3xl font-medium title-font text-white mb-12 animate-slide-fast\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }, \"Sign Up\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-col text-center items-center justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-red-500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, error), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-4 animate-slide-fast\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"block text-sm font-bold mb-2\",\n      for: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-black\",\n      id: \"username\",\n      type: \"text\",\n      placeholder: \"Username\",\n      onChange: function onChange(e) {\n        setUsernameReg(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-4 animate-slide-fast\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"block text-sm font-bold mb-2\",\n      for: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    }, \"E-mail\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-black\",\n      id: \"email\",\n      type: \"email\",\n      placeholder: \"E-Mail\",\n      onChange: function onChange(e) {\n        setEmailReg(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-3 animate-slide-fast\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"block text-sm font-bold mb-2 \",\n      for: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"shadow appearance-none border border-red rounded w-full py-2 px-3 text-black mb-3\",\n      id: \"password\",\n      type: \"password\",\n      onChange: function onChange(e) {\n        setPasswordReg(e.target.value);\n      },\n      placeholder: \"******************\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \" bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded mb-2 animate-slide\",\n      type: \"button\",\n      onClick: register,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, \"Sign Up\"))));\n  } else {\n    return /*#__PURE__*/React.createElement(Login, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    });\n  }\n}","map":{"version":3,"sources":["/home/blasphemous/Web-Dev/my-portfolio/Client/src/components/SignUp.js"],"names":["React","useState","Axios","Login","validator","LoginIcon","SignUp","username","setUsernameReg","email","setEmailReg","password","setPasswordReg","error","setError","signedUp","setSignedUp","register","isEmail","post","then","res","console","log","data","catch","message","response","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Axios from 'axios';\nimport Login from './Login';\nimport validator from 'validator';\nimport { LoginIcon } from \"@heroicons/react/solid\";    \nexport default function SignUp() {\n\n    const [username, setUsernameReg] = useState('');\n    const [email, setEmailReg] = useState('');\n    const [password, setPasswordReg] = useState('');\n    const [error, setError] = useState('');\n    const [signedUp, setSignedUp] = useState(false);\n    const register = () => {\n        if(email !== '' && username !== '' && password !== ''){\n            if(validator.isEmail(email)){\n                Axios.post('http://127.0.0.1:4000/api/register', {username: username, email:email, password: password, })\n                .then((res) =>{\n                    console.log(res);\n                    console.log(res.data);\n                    setSignedUp(true);\n                    })\n                    .catch((error) => {\n                        console.log(error.message)\n                        console.log(error.response.data.message)\n                        if(error.response.data.message === `duplicate key value violates unique constraint \"users_username_key\"`){\n                            setError('Username already exists')\n                        } else if(error.response.data.message === `duplicate key value violates unique constraint \"users_email_key\"`){\n                            setError('Email already exists')\n                        }\n                    });\n            } else {\n                setError('Email is invalid')\n            };\n        } else {\n            setError('All fields are required')\n        };\n    };\n    if(!signedUp){\n    return(\n        <main>\n            <div className=\"container px-5 py-10 mt-0 text-center items-center\">\n                <LoginIcon className=\"w-10 inline-block mb-4\" />\n                <h1 className=\"sm:text-4xl text-3xl font-medium title-font text-white mb-12 animate-slide-fast\">\n                    Sign Up\n                </h1>\n            </div>\n            <div className=\"flex flex-col text-center items-center justify-center\">\n                <div className=\"text-red-500\">\n                    {error}\n                </div>\n                <div className=\"mb-4 animate-slide-fast\">\n                <label class=\"block text-sm font-bold mb-2\" for=\"username\">\n                    Username\n                </label>\n                <input className=\"shadow appearance-none border rounded w-full py-2 px-3 text-black\" id=\"username\" type=\"text\" placeholder=\"Username\" onChange={(e) => {setUsernameReg(e.target.value);}} />\n                </div>\n                <div className=\"mb-4 animate-slide-fast\">\n                    <label class=\"block text-sm font-bold mb-2\" for=\"email\">\n                        E-mail\n                    </label>\n                    <input className=\"shadow appearance-none border rounded w-full py-2 px-3 text-black\" id=\"email\" type=\"email\" placeholder=\"E-Mail\" onChange={(e) => {setEmailReg(e.target.value);}}/>\n                </div>\n                <div className=\"mb-3 animate-slide-fast\">\n                <label className=\"block text-sm font-bold mb-2 \" for=\"password\">\n                    Password\n                </label>\n                <input className=\"shadow appearance-none border border-red rounded w-full py-2 px-3 text-black mb-3\" id=\"password\" type=\"password\" onChange={(e) => {setPasswordReg(e.target.value);}} placeholder=\"******************\" />\n                {/* <p className=\"text-red text-xs italic\">Please choose a password.</p> */}\n                </div>\n\n                <div className=\"flex items-center\">\n                <button className=\" bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded mb-2 animate-slide\" type=\"button\" onClick={register}>\n                    Sign Up\n                </button>\n                </div>\n            </div>\n    </main>\n    )\n    }\n    else{\n        return(\n            <Login />\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}